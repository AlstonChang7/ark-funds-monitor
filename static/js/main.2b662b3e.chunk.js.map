{"version":3,"sources":["components/data-grid/data-grid.js","components/stock-figure/stock-figure.js","layout.js","serviceWorker.js","index.js"],"names":["rawData","require","Array","prototype","swapElements","a","b","this","splice","DataGrid","props","state","width","window","innerWidth","height","innerHeight","updateWindowDimensions","bind","columnDefs","Object","keys","massageRawData","map","x","genericColDef","key","field","specificColDef","minWidth","push","assign","tempData","_","addEventListener","removeEventListener","setState","dataGridDef","defaultColDef","resizable","sortable","filter","getColumnDefs","rowData","Grid","container","spacing","justify","alignItems","item","xs","className","join","React","Component","arkData","StockFigure","value","categoryData","values","volumes","i","length","dayCount","result","len","data","sum","j","Math","round","splitData","option","backgroundColor","title","text","left","textStyle","color","tooltip","trigger","axisPointer","animation","type","lineStyle","opacity","legend","inactiveColor","top","bottom","link","xAxisIndex","label","toolbox","show","feature","dataZoom","yAxisIndex","brush","brushLink","outOfBrush","colorAlpha","visualMap","seriesIndex","dimension","pieces","grid","right","xAxis","scale","boundaryGap","axisLine","onZero","splitLine","splitNumber","min","max","gridIndex","axisTick","axisLabel","yAxis","splitArea","start","end","handleIcon","handleSize","dataBackground","areaStyle","handleStyle","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY","series","name","itemStyle","color0","borderColor","borderColor0","markPoint","normal","formatter","param","valueDim","symbolOffset","coord","markLine","symbol","symbolSize","emphasis","calculateMA","smooth","filteredArkData","Ticker","dataInProps","find","m","Date","Direction","getOption","notMerge","lazyUpdate","style","rest","restClient","Layout","inputTicker","massagedData","figureTitle","handleChange","handleSubmit","event","target","toDate","fromDate","setDate","getDate","toDateString","getTime","getTimezoneOffset","toISOString","split","fromDateString","that","stocks","aggregates","then","response","results","massaged","row","timeInDate","t","o","c","l","h","v","catch","preventDefault","subComponent","toUpperCase","md","onSubmit","FormControl","InputLabel","htmlFor","Input","id","onChange","endAdornment","InputAdornment","position","IconButton","aria-label","onClick","edge","Boolean","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error","console","message"],"mappings":"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","file":"static/js/main.2b662b3e.chunk.js","sourcesContent":["import React from 'react';\r\nimport { AgGridReact } from 'ag-grid-react';\r\nimport 'ag-grid-community/dist/styles/ag-grid.css';\r\nimport 'ag-grid-community/dist/styles/ag-theme-alpine.css';\r\nimport * as _ from 'lodash';\r\nimport { Grid } from '@material-ui/core';\r\nimport './data-grid.css';\r\n\r\nlet rawData = require('../../rawData/mergedData.json');\r\n\r\nArray.prototype.swapElements = function (a, b) {\r\n    this[a] = this.splice(b, 1, this[a])[0];\r\n    return this;\r\n}\r\n\r\nconst toDate = (dateStr) => {\r\n    const [year, month, day] = dateStr.split(\"-\")\r\n    return new Date(year, month, day)\r\n}\r\n\r\nclass DataGrid extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            width: window.innerWidth,\r\n            height: window.innerHeight,\r\n        };\r\n        this.updateWindowDimensions = this.updateWindowDimensions.bind(this);\r\n    }\r\n\r\n    getColumnDefs(rawData) {\r\n        const columnDefs = [];\r\n        const columnNamesInOrder = Object.keys(this.massageRawData(rawData)[0]).swapElements(0, 1);\r\n        columnNamesInOrder.map(x => {\r\n            let genericColDef = {\r\n                key: x,\r\n                field: x,\r\n            };\r\n            let specificColDef = {};\r\n            switch (x) {\r\n                case 'Date':\r\n                case 'Direction':\r\n                case 'CUSIP':\r\n                case 'Shares':\r\n                case '% Of ETF':\r\n                    specificColDef = {\r\n                        width: this.state.width / 12,\r\n                        minWidth: 100,\r\n                    }\r\n                    break\r\n                case 'FUND':\r\n                case 'Ticker':\r\n                    specificColDef = {\r\n                        width: this.state.width / 10,\r\n                        minWidth: 90,\r\n                    }\r\n                    break\r\n                case 'Name':\r\n                    specificColDef = {\r\n                        width: this.state.width / 4,\r\n                    }\r\n                    break\r\n                default:\r\n                    specificColDef = {\r\n                        width: this.state.width / 8,\r\n                        minWidth: 100,\r\n                    };\r\n                    break;\r\n            }\r\n            columnDefs.push(Object.assign(genericColDef, specificColDef));\r\n        })\r\n        return columnDefs;\r\n    }\r\n\r\n    massageRawData(rawData) {\r\n        let tempData = _.cloneDeep(rawData);\r\n        // remove empty property\r\n        tempData.map(x => {\r\n            for (let key in x) {\r\n                if (key === '') {\r\n                    delete x[key];\r\n                }\r\n            }\r\n        })\r\n        return tempData;\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.updateWindowDimensions();\r\n        window.addEventListener('resize', this.updateWindowDimensions);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('resize', this.updateWindowDimensions);\r\n    }\r\n\r\n    updateWindowDimensions() {\r\n        this.setState({ width: window.innerWidth, height: window.innerHeight });\r\n    }\r\n\r\n    // onCellClick(e) {\r\n    //     console.log('in')\r\n    //     const selectedNodes = gridApi.getSelectedNodes()\r\n    //     const selectedData = selectedNodes.map(node => node.data)\r\n    //     const selectedDataStringPresentation = selectedData.map(node => node.make + ' ' + node.model).join(', ')\r\n    //     alert(`Selected nodes: ${selectedDataStringPresentation}`)\r\n    // }\r\n\r\n    render() {\r\n        const dataGridDef = {\r\n            defaultColDef: { resizable: true, sortable: true, filter: true },\r\n            columnDefs: this.getColumnDefs(rawData),\r\n            rowData: this.massageRawData(rawData)\r\n        }\r\n        return (\r\n            <Grid container spacing={3} justify=\"center\" alignItems=\"center\">\r\n                <Grid item xs={11} className={['ag-theme-alpine', 'center'].join(' ')}>\r\n                    <AgGridReact\r\n                        rowData={dataGridDef.rowData}\r\n                        columnDefs={dataGridDef.columnDefs}\r\n                        defaultColDef={dataGridDef.defaultColDef}\r\n                    // cellClicked={onCellClick(e)}\r\n                    >\r\n                    </AgGridReact>\r\n                </Grid>\r\n            </Grid>\r\n        );\r\n    }\r\n};\r\n\r\nexport default DataGrid;","import React from 'react';\r\nimport * as _ from 'lodash';\r\nimport './stock-figure.scss';\r\nimport ReactEcharts from 'echarts-for-react';\r\n\r\nlet arkData = require('../../rawData/mergedData.json');\r\n\r\nvar downColor = '#ec0000';\r\nvar downBorderColor = '#8A0000';\r\nvar upColor = '#00da3c';\r\nvar upBorderColor = '#008F28';\r\n\r\nclass StockFigure extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { value: '' };\r\n        this.props = props;\r\n    }\r\n\r\n    splitData(rawData) {\r\n        var categoryData = [];\r\n        var values = [];\r\n        var volumes = [];\r\n\r\n        for (var i = 0; i < rawData.length; i++) {\r\n            categoryData.push(rawData[i].splice(0, 1)[0]);\r\n            values.push(rawData[i]);\r\n            volumes.push([i, rawData[i][4], rawData[i][0] > rawData[i][1] ? 1 : -1]);;\r\n        }\r\n        return {\r\n            categoryData: categoryData,\r\n            values: values,\r\n            volumes: volumes\r\n        };\r\n    }\r\n\r\n    calculateMA(dayCount) {\r\n        var result = [];\r\n        for (var i = 0, len = this.data.values.length; i < len; i++) {\r\n            if (i < dayCount) {\r\n                result.push('-');\r\n                continue;\r\n            }\r\n            var sum = 0;\r\n            for (var j = 0; j < dayCount; j++) {\r\n                sum += this.data.values[i - j][1];\r\n            }\r\n            result.push(Math.round(sum / dayCount * 100) / 100);\r\n        }\r\n        return result;\r\n    }\r\n\r\n\r\n    getOption() {\r\n        this.data = this.splitData(_.cloneDeep(this.props.data));\r\n        let option = {\r\n            backgroundColor: '#21202D',\r\n            title: {\r\n                text: this.props.title,\r\n                left: '5%',\r\n                textStyle: { color: '#fff' }\r\n            },\r\n            tooltip: {\r\n                trigger: 'axis',\r\n                axisPointer: {\r\n                    animation: false,\r\n                    type: 'cross',\r\n                    lineStyle: {\r\n                        color: '#376df4',\r\n                        width: 2,\r\n                        opacity: 1\r\n                    }\r\n                }\r\n            },\r\n            legend: {\r\n                data: ['Day', 'MA5', 'MA10', 'MA20'],\r\n                inactiveColor: '#777',\r\n                textStyle: {\r\n                    color: '#fff'\r\n                },\r\n                top: '4%',\r\n                bottom: '-2%'\r\n            },\r\n            axisPointer: {\r\n                link: { xAxisIndex: 'all' },\r\n                label: {\r\n                    backgroundColor: '#777'\r\n                }\r\n            },\r\n            toolbox: {\r\n                show: false,\r\n                feature: {\r\n                    dataZoom: {\r\n                        yAxisIndex: false\r\n                    },\r\n                    brush: {\r\n                        type: ['lineX', 'clear']\r\n                    }\r\n                }\r\n            },\r\n            brush: {\r\n                xAxisIndex: 'all',\r\n                brushLink: 'all',\r\n                outOfBrush: {\r\n                    colorAlpha: 0.1\r\n                }\r\n            },\r\n            visualMap: {\r\n                show: false,\r\n                seriesIndex: 4,\r\n                dimension: 2,\r\n                pieces: [{\r\n                    value: 1,\r\n                    color: downColor\r\n                }, {\r\n                    value: -1,\r\n                    color: upColor\r\n                }]\r\n            },\r\n            grid: [\r\n                {\r\n                    left: '5%',\r\n                    right: '5%',\r\n                    bottom: '30%'\r\n                },\r\n                {\r\n                    left: '5%',\r\n                    right: '5%',\r\n                    height: '15%',\r\n                    bottom: '10%'\r\n                }\r\n            ],\r\n            xAxis: [\r\n                {\r\n                    type: 'category',\r\n                    data: this.data.categoryData,\r\n                    scale: true,\r\n                    boundaryGap: false,\r\n                    axisLine: { onZero: false, lineStyle: { color: '#8392A5' } },\r\n                    splitLine: { show: false },\r\n                    splitNumber: 20,\r\n                    min: 'dataMin',\r\n                    max: 'dataMax'\r\n                },\r\n                {\r\n                    type: 'category',\r\n                    gridIndex: 1,\r\n                    data: this.data.categoryData,\r\n                    scale: true,\r\n                    boundaryGap: false,\r\n                    axisLine: { onZero: false, lineStyle: { color: '#8392A5' } },\r\n                    axisTick: { show: false },\r\n                    splitLine: { show: false },\r\n                    axisLabel: { show: false },\r\n                    splitNumber: 20,\r\n                    min: 'dataMin',\r\n                    max: 'dataMax'\r\n                }\r\n            ],\r\n            yAxis: [{\r\n                scale: true,\r\n                splitArea: {\r\n                    show: true\r\n                },\r\n                axisLine: { lineStyle: { color: '#8392A5' } },\r\n                splitLine: { show: false }\r\n            },\r\n            {\r\n                scale: true,\r\n                gridIndex: 1,\r\n                splitNumber: 2,\r\n                axisLabel: { show: false },\r\n                axisLine: { show: false, lineStyle: { color: '#8392A5' } },\r\n                axisTick: { show: false },\r\n                splitLine: { show: false }\r\n            }\r\n            ],\r\n            dataZoom: [\r\n                {\r\n                    type: 'inside',\r\n                    start: 0,\r\n                    end: 100\r\n                },\r\n                {\r\n                    show: true,\r\n                    type: 'slider',\r\n                    bottom: '2%',\r\n                    start: 0,\r\n                    end: 100,\r\n                    textStyle: {\r\n                        color: '#8392A5'\r\n                    },\r\n                    handleIcon: 'M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4v1.3h1.3v-1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7V23h6.6V24.4z M13.3,19.6H6.7v-1.4h6.6V19.6z',\r\n                    handleSize: '80%',\r\n                    dataBackground: {\r\n                        areaStyle: {\r\n                            color: '#8392A5'\r\n                        },\r\n                        lineStyle: {\r\n                            opacity: 0.8,\r\n                            color: '#8392A5'\r\n                        }\r\n                    },\r\n                    handleStyle: {\r\n                        color: '#fff',\r\n                        shadowBlur: 3,\r\n                        shadowColor: 'rgba(0, 0, 0, 0.6)',\r\n                        shadowOffsetX: 2,\r\n                        shadowOffsetY: 2\r\n                    }\r\n                }\r\n            ],\r\n            series: [\r\n                {\r\n                    name: 'Day',\r\n                    type: 'candlestick',\r\n                    data: this.data.values,\r\n                    itemStyle: {\r\n                        color: upColor,\r\n                        color0: downColor,\r\n                        borderColor: upBorderColor,\r\n                        borderColor0: downBorderColor\r\n                    },\r\n                    markPoint:\r\n                    {\r\n                        label: {\r\n                            normal: {\r\n                                formatter: function (param) {\r\n                                    if (typeof (param) === 'number') {\r\n                                        return param != null ? Math.round(param.value) : '';\r\n                                    }\r\n                                }\r\n                            }\r\n                        },\r\n                        data: [\r\n                            {\r\n                                name: 'highest value',\r\n                                type: 'max',\r\n                                valueDim: 'highest',\r\n                                symbolOffset: [0, -20]\r\n                            },\r\n                            {\r\n                                name: 'lowest value',\r\n                                type: 'min',\r\n                                valueDim: 'lowest',\r\n                                symbolOffset: [0, -20]\r\n                            },\r\n                            {\r\n                                name: 'average value on close',\r\n                                type: 'average',\r\n                                valueDim: 'close',\r\n                                symbolOffset: [0, -20]\r\n                            }\r\n                        ],\r\n                        tooltip: {\r\n                            formatter: ((param) => param.name + '<br>' + (param.data.coord || ''))\r\n                        }\r\n                    },\r\n                    markLine: {\r\n                        symbol: ['none', 'none'],\r\n                        lineStyle: {\r\n                            color: downColor\r\n                        },\r\n                        data: [\r\n                            [\r\n                                {\r\n                                    name: 'from lowest to highest',\r\n                                    type: 'min',\r\n                                    valueDim: 'lowest',\r\n                                    symbol: 'circle',\r\n                                    symbolSize: 10,\r\n                                    label: {\r\n                                        show: false\r\n                                    },\r\n                                    emphasis: {\r\n                                        label: {\r\n                                            show: false\r\n                                        }\r\n                                    }\r\n                                },\r\n                                {\r\n                                    type: 'max',\r\n                                    valueDim: 'highest',\r\n                                    symbol: 'circle',\r\n                                    symbolSize: 10,\r\n                                    label: {\r\n                                        show: false\r\n                                    },\r\n                                    emphasis: {\r\n                                        label: {\r\n                                            show: false\r\n                                        }\r\n                                    }\r\n                                }\r\n                            ],\r\n                            {\r\n                                name: 'min line on close',\r\n                                type: 'min',\r\n                                valueDim: 'close'\r\n                            },\r\n                            {\r\n                                name: 'max line on close',\r\n                                type: 'max',\r\n                                valueDim: 'close'\r\n                            }\r\n                        ]\r\n                    }\r\n                },\r\n                {\r\n                    name: 'MA5',\r\n                    type: 'line',\r\n                    data: this.calculateMA(5),\r\n                    smooth: true,\r\n                    lineStyle: {\r\n                        opacity: 0.5\r\n                    },\r\n                    itemStyle: {\r\n                        color: '#0000FF'\r\n                    }\r\n                },\r\n                {\r\n                    name: 'MA10',\r\n                    type: 'line',\r\n                    data: this.calculateMA(10),\r\n                    smooth: true,\r\n                    lineStyle: {\r\n                        opacity: 0.5\r\n                    },\r\n                    itemStyle: {\r\n                        color: '#FFAE19',\r\n                    }\r\n                },\r\n                {\r\n                    name: 'MA20',\r\n                    type: 'line',\r\n                    data: this.calculateMA(20),\r\n                    smooth: true,\r\n                    lineStyle: {\r\n                        opacity: 0.5\r\n                    },\r\n                    itemStyle: {\r\n                        color: '#FF00FF',\r\n                    }\r\n                },\r\n                // {\r\n                //     name: 'MA30',\r\n                //     type: 'line',\r\n                //     data: this.calculateMA(30),\r\n                //     smooth: true,\r\n                //     lineStyle: {\r\n                //         opacity: 0.5\r\n                //     }\r\n                // },\r\n                {\r\n                    name: 'Volume',\r\n                    type: 'bar',\r\n                    xAxisIndex: 1,\r\n                    yAxisIndex: 1,\r\n                    data: this.data.volumes\r\n                }\r\n\r\n            ]\r\n        };\r\n\r\n        const filteredArkData = arkData.filter(x => x.Ticker === this.props.title);\r\n        for (let x of filteredArkData) {\r\n            const dataInProps = this.props.data.find(m => m[0] === x.Date);\r\n            if (!(dataInProps && dataInProps[4])) {\r\n                continue;\r\n            }\r\n            option.series[0].markPoint.data.push({\r\n                name: `${x.Date} ${x.Direction}`,\r\n                coord: [x.Date, dataInProps[4]],\r\n                value: x.Direction,\r\n                itemStyle: {\r\n                    color: 'rgb(41,60,85)'\r\n                }\r\n            })\r\n        }\r\n        return option;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <ReactEcharts\r\n                option={this.getOption()}\r\n                notMerge={true}\r\n                lazyUpdate={true}\r\n                style={{ height: '500px', width: '100%' }}\r\n            />\r\n            // /* <ReactEcharts\r\n            //     option={this.getOption()}\r\n            //     notMerge={true}\r\n            //     lazyUpdate={true}\r\n            //     theme={\"theme_name\"}\r\n            //     onChartReady={this.onChartReadyCallback}\r\n            //     onEvents={EventsDict}\r\n            //     opts={} /> */\r\n        );\r\n    }\r\n}\r\n\r\nexport default StockFigure;","import React from 'react';\r\nimport * as _ from 'lodash';\r\nimport { restClient } from \"polygon.io\";\r\nimport {\r\n    Grid, Button, Input, FormControl,\r\n    FormHelperText, InputLabel, OutlinedInput,\r\n    IconButton, InputAdornment\r\n} from '@material-ui/core';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\n\r\nimport './layout.scss';\r\nimport DataGrid from './components/data-grid/data-grid';\r\nimport StockFigure from './components/stock-figure/stock-figure';\r\n\r\nconst rest = restClient(\"RTHdj0YLW1JrkVcVeSQjBSHFgS4lgtCf\");\r\n\r\nclass Layout extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { inputTicker: '', massagedData: [], figureTitle: '' };\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n\r\n    handleChange(event) {\r\n        this.setState({ inputTicker: event.target.value });\r\n    }\r\n\r\n    handleSubmit(event) {\r\n        // Get From/To date\r\n        const toDate = new Date();\r\n        let fromDate = new Date();\r\n        fromDate.setDate(fromDate.getDate() - 60);\r\n        const toDateString = new Date(toDate.getTime() - (toDate.getTimezoneOffset() * 60000))\r\n            .toISOString()\r\n            .split(\"T\")[0];\r\n        const fromDateString = new Date(fromDate.getTime() - (fromDate.getTimezoneOffset() * 60000))\r\n            .toISOString()\r\n            .split(\"T\")[0];\r\n\r\n        let that = this;\r\n\r\n        rest.stocks\r\n            .aggregates(this.state.inputTicker, 1, 'day', fromDateString, toDateString)\r\n            .then((response) => {\r\n                // massage response\r\n                if (response && response.results) {\r\n                    const massaged = [];\r\n                    response.results.map(row => {\r\n                        let rowData = [];\r\n                        const timeInDate = new Date(row.t);\r\n                        rowData.push(\r\n                            new Date(timeInDate.getTime() - (timeInDate.getTimezoneOffset() * 60000))\r\n                                .toISOString()\r\n                                .split(\"T\")[0],\r\n                            row.o,\r\n                            row.c,\r\n                            row.l,\r\n                            row.h,\r\n                            row.v\r\n                        );\r\n                        massaged.push(rowData)\r\n                    })\r\n                    that.setState({ massagedData: massaged })\r\n                    that.setState({ figureTitle: _.cloneDeep(that.state.inputTicker) })\r\n                }\r\n            })\r\n            .catch(/* your error handler*/)\r\n        event.preventDefault();\r\n    }\r\n\r\n    render() {\r\n        let subComponent;\r\n        if (this.state.massagedData.length > 0) {\r\n            subComponent = <StockFigure title={this.state.figureTitle.toUpperCase()} data={this.state.massagedData} />;\r\n        } else {\r\n            subComponent = <div></div>;\r\n        }\r\n\r\n        return (\r\n            <div className=\"layout-wrapper\">\r\n                <Grid container spacing={3} justify=\"center\" alignItems=\"center\" className=\"header\">\r\n                    <Grid item xs={3} md={4}>\r\n                    </Grid>\r\n                    <Grid item xs={6} md={4} className='title'>\r\n                        <span>Ark Funds Transactions History</span>\r\n                    </Grid>\r\n                    <Grid item xs={3} md={4} className=\"ticker-input-section\">\r\n                        <form onSubmit={this.handleSubmit}>\r\n                            <FormControl>\r\n                                <div>\r\n                                    <InputLabel htmlFor=\"ticker-textfield\">Ticker</InputLabel>\r\n                                    <Input\r\n                                        id=\"ticker-textfield\"\r\n                                        value={this.state.inputTicker}\r\n                                        onChange={this.handleChange}\r\n                                        endAdornment={\r\n                                            <InputAdornment position=\"start\">\r\n                                                <IconButton\r\n                                                    aria-label=\"Search\"\r\n                                                    onClick={this.handleSubmit}\r\n                                                    edge=\"end\"\r\n                                                >\r\n                                                    <SearchIcon color=\"primary\"/>\r\n                                                </IconButton>\r\n                                            </InputAdornment>\r\n                                        }\r\n                                    />\r\n                                </div>\r\n                            </FormControl>\r\n                            {/* <FormControl variant=\"outlined\">\r\n                                <InputLabel htmlFor=\"outlined-ticker-textfield\">Ticker</InputLabel>\r\n                                <OutlinedInput\r\n                                    style={{backgroundColor: '#fff'}}\r\n                                    id=\"outlined-ticker-textfield\"\r\n                                    type='text'\r\n                                    value={this.state.inputTicker}\r\n                                    onChange={this.handleChange}\r\n                                    endAdornment={\r\n                                        <InputAdornment position=\"end\">\r\n                                            <IconButton\r\n                                                aria-label=\"Search\"\r\n                                                onClick={this.handleSubmit}\r\n                                                edge=\"end\"\r\n                                            >\r\n                                                <SearchIcon color=\"primary\"/>\r\n                                            </IconButton>\r\n                                        </InputAdornment>\r\n                                    }\r\n                                    labelWidth={70}\r\n                                />\r\n                            </FormControl> */}\r\n                        </form>\r\n                    </Grid>\r\n                </Grid>\r\n                <div className=\"data-grid-wrapper\">\r\n                    <DataGrid />\r\n                </div>\r\n                <div className=\"stock-figure-wrapper\">\r\n                    {subComponent}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Layout;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport Layout from './layout';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Layout />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}